import{openBlock as e,createElementBlock as l,ref as t,onMounted as o,resolveComponent as n,Fragment as a,createCommentVNode as i,createBlock as s,inject as u,resolveDirective as r,normalizeClass as c,unref as d,withDirectives as m,createVNode as p,normalizeStyle as _,createElementVNode as f,toDisplayString as v,renderList as V,isRef as g,withCtx as b,provide as k,resolveDynamicComponent as y}from"vue";import h from"axios";import F from"primevue/inputtext";import C from"primevue/dropdown";import I from"primevue/textarea";import J from"primevue/config";import T from"primevue/radiobutton";import w from"primevue/checkbox";import x from"primevue/calendar";import B from"primevue/button";import S from"primevue/colorpicker";import U from"primevue/slider";import N from"primevue/fileupload";import L from"primevue/tooltip";import j from"primevue/inputnumber";import D from"primevue/tabview";import R from"primevue/tabpanel";import"primevue/resources/themes/nova/theme.css";import"primevue/resources/primevue.min.css";import"primeicons/primeicons.css";const E=function(e){const l=h.create({baseURL:e,withCredentials:!0,timeout:1e5});return l.interceptors.request.use((e=>e),(e=>(console.log("request err",e),Promise.reject(e)))),l.interceptors.response.use((e=>e.data),(e=>(console.log("err"+e),{stat:!1,error:e}))),l};class O{origins_def={};origins_data={};constructor(e){console.log(2342343,e),this.origins_def=this.parse_data_origin(e)}parse_data_origin(e){if(null==e)return{};let l={};for(let t=0;t<e.length;t++)l[e[t].alias]=e[t];return l}async getData(e){if(null==this.origins_def[e])return;if(null!=this.origins_data[e])return this.origins_data[e];let l=this.origins_def[e];if(null==l.url||""==l.url)return l.options;let t=await h.get(l.url);return 200==t.status?(this.origins_data[e]=t.data,t.data):void console.log("Error!! data not found")}}class M{data_form={};field_options={};initial_values={};constructor(e={}){this.data_form=e.data_form?e.data_form:{}}update(e){let l=e.config;if(null!=l.list&&null!=l.list){null==this.data_form[l.list]&&(this.data_form[l.list]=[]),null==this.data_form[l.list][Number(l.id)]&&(this.data_form[l.list][Number(l.id)]={});let t=!0;for(let o=0;o<this.data_form[l.list].length;o++)if(this.data_form[l.list][o]?._i==Number(l.id)){this.data_form[l.list][o][l.key]=e.data,t=!1;break}t&&(this.data_form[l.list][Number(l.id)][l.key]=e.data,this.data_form[l.list][Number(l.id)]._i=Number(l.id));let o=[];for(let e=0;e<this.data_form[l.list].length;e++)null!=this.data_form[l.list][e]&&null!=this.data_form[l.list][e]&&o.push(this.data_form[l.list][e]);this.data_form[l.list]=o}else null==this.data_form&&(this.data_form={}),this.data_form[l.key]=e.data}delete(e){if(null==this.data_form[e.list])return!1;let l=[];for(let t=0;t<this.data_form[e.list].length;t++)this.data_form[e.list][t]._i!=e.id&&l.push(this.data_form[e.list][t]);return this.data_form[e.list]=l,!0}getValue(e){if(null!=this.data_form)return this.data_form[e]}deleteField(e){delete this.data_form[e]}}const G={class:"row"};const P={render:function(t,o){return e(),l("div",G," Formulario inexistente ")},__file:"src/components/FormNotFound.vue"};var H={__name:"ClienteFormularioDinamico",props:["config","modelValue"],emits:["update:modelValue","input","submit","click","blur"],setup(u,{emit:r}){const c=u,d=t(new M),m=t(null),p=t(0),_=1500,f=t(0),v=t({}),V=t(!1);function g(e){!async function(e){let l=(new Date).getTime();v.value=e.data_form,l-f.value>_?(f.value=l,C()):V.value||(V.value=!0,setTimeout((async()=>{f.value=l,V.value=!1,C()}),_))}(e),r("update:modelValue",e)}function b(e){r("input",e)}function k(e){r("click",e)}function y(e){r("blur",e)}const h=t();async function F(e){let l=await(t=c.config.api,E(t)({url:"/form/action_submit",method:"post",data:{}}));var t;l.stat?r("submit",e):console.log("error, submit",l)}async function C(){let e=await(l=c.config.api,t=v.value,E(l)({url:"/form/form_data",method:"put",data:t}));var l,t;e&&h.value.refresh_validations(e.validation)}async function I(){let e=await(l=c.config.api,t=c.config.id,E(l)({url:"/form/get_form?id="+t,method:"get",data:""}));var l,t;e.stat&&(m.value=e.definition,d.value.data_form=e.form_data,p.value=1)}async function J(){var e,l;(await(e=c.config.api,l={id_user:c.config.id_user},E(e)({url:"/form/get_session",method:"post",data:l}))).stat?await I():alert("Error al intentar obtener sessiÃ³n")}return o((async()=>{await J()})),(t,o)=>{const u=n("FormularioJSON");return e(),l(a,null,[i('<SignUp v-if="step == 0" :config="config" @hasSession="hasSession"/>'),1==p.value&&null!==m.value?(e(),s(u,{key:0,ref_key:"form_ref",ref:h,form_definition:m.value,modelValue:d.value,"onUpdate:modelValue":[o[0]||(o[0]=e=>d.value=e),g],onSubmit:F,onInput:b,onBlur:y,onClick:k},null,8,["form_definition","modelValue"])):i("v-if",!0),1==p.value&&null==m.value?(e(),s(P,{key:1})):i("v-if",!0)],64)}}};function A(e,l,n,a={}){const i=t(),s=t(n.params),r=u("validationRes");function c(){return d.value="",null!=r.value&&(null!=r.value[s.value.key]||void 0)}function d(){return null!=r.value[s.value.key]?r.value[s.value.key].res.text:""}return o((async()=>{if(console.log(n.modelValue,s.value.key),null!=s.value.key&&null!=n.modelValue.data_form&&null!=n.modelValue.data_form[s.value.key]&&(i.value=n.modelValue.data_form[s.value.key]),null!=n.modelValue&&null!=s.value.field_options){let e=n.modelValue.field_options;null!=e&&(a.field_options.value=e[s.value.field_options])}if(void 0!==n.modelValue&&void 0!==n.modelValue.getValue){let e=n.modelValue.getValue(s.value.field);null!=e&&(i.value=e)}else console.log(45645,n.modelValue)})),{input_event:function(){e("update:modelValue",{config:s.value,data:i.value})},click_event:function(l){e("click",{config:s.value,data:i.value,evnt:l})},blur_event:function(l){e("blur",{config:s.value,data:i.value,evnt:l})},is_invalid:c,get_content_class:function(){let e={};if(null!=s.value.class_content){let l=s.value.class_content.split(" ");for(let t=0;t<l.length;t++)e[l[t]]=!0}return e["is-invalid"]=c(),e},validation_text:d,model:i,config:s,get_contentainer_class:function(){let e={};if(null!=s.value.class_container){let l=s.value.class_container.split(" ");for(let t=0;t<l.length;t++)e[l[t]]=!0}return e.required=!!s.value.required,e}}}function q(e){const l=u("dataOrigins"),n=t([]);return o((async()=>{n.value=await async function(){return await l.getData(e.params.origin)}()})),{field_options:n,dataOrigins:l}}H.__file="src/ClienteFormularioDinamico.vue";function X(e){try{return JSON.parse(String(e))}catch(l){return console.log("E: ",l,e),{}}}var Y={__name:"VFJButtonInput",props:["params","modelValue"],emits:["update:modelValue","click"],setup(t,{emit:o}){const a=t,{click_event:i,model:s,config:u,get_contentainer_class:f}=A(o,0,a);return(t,o)=>{const a=n("Button"),s=r("tooltip");return e(),l("div",{class:c(d(f)())},[m(p(a,{label:d(u).label,icon:d(u).icon,iconPos:d(u).iconPos,onClick:d(i),class:c(d(u).class_content),style:_(d(X)(d(u).style_content))},null,8,["label","icon","iconPos","onClick","class","style"]),[[s,d(u).tooltip]])],2)}},__file:"src/components/form-json/columns/VFJButtonInput/VFJButtonInput.vue"};const K=["for"],z={class:"input-group row"},Q={for:"{{ config.field + option[config.option_id] }}"};var W={__name:"VFJCheckboxInput",props:["params","modelValue"],emits:["update:modelValue","click","blur"],setup(t,{emit:o}){const i=t,{field_options:s}=q(i),{input_event:u,click_event:r,blur_event:m,model:b,config:k,get_contentainer_class:y}=A(o,0,i,{field_options:s});return(t,o)=>{const i=n("Checkbox");return e(),l("div",{class:c(d(y)())},[f("label",{for:d(k).field,class:"form-label control-label"},v(d(k).label),9,K),f("div",z,[(e(!0),l(a,null,V(d(s),(t=>(e(),l("div",{class:"field-radiobutton col-12",key:t},[p(i,{inputId:"{{config.field + option[config.option_id]}}",name:d(k).field,onChange:d(u),onClick:d(r),onBlur:d(m),class:c(d(k).class_content),style:_(d(X)(d(k).style_content)),value:t[d(k).option_id],modelValue:d(b),"onUpdate:modelValue":o[0]||(o[0]=e=>g(b)?b.value=e:null)},null,8,["name","onChange","onClick","onBlur","class","style","value","modelValue"]),f("label",Q,v(t[d(k).option_label]),1)])))),128))])],2)}},__file:"src/components/form-json/columns/VFJCheckboxInput/VFJCheckboxInput.vue"};const Z=["for"],$={class:"input-group"};var ee={__name:"VFJColorInput",props:["params","modelValue"],emits:["update:modelValue","click"],setup(t,{emit:o}){const a=t,{input_event:i,click_event:s,model:u,config:V,get_content_class:b,get_contentainer_class:k}=A(o,0,a);return(t,o)=>{const a=n("ColorPicker"),y=r("tooltip");return e(),l("div",{class:c(d(k)())},[f("label",{for:d(V).field,class:"form-label control-label"},v(d(V).label),9,Z),f("div",$,[m(p(a,{modelValue:d(u),"onUpdate:modelValue":o[0]||(o[0]=e=>g(u)?u.value=e:null),inline:d(V).inline,class:c(d(b)()),style:_(d(X)(d(V).style_content)),onChange:d(i),onClick:d(s)},null,8,["modelValue","inline","class","style","onChange","onClick"]),[[y,d(V).tooltip]])])],2)}},__file:"src/components/form-json/columns/VFJColorInput/VFJColorInput.vue"};const le=["for"],te={class:"input-group"},oe={key:0,class:"invalid-feedback",style:{display:"block"}};var ne={__name:"VFJDateInput",props:["params","modelValue"],emits:["update:modelValue","click","blur"],setup(t,{emit:o}){const a=t,{input_event:s,click_event:u,blur_event:V,model:b,config:k,is_invalid:y,validation_text:h,get_contentainer_class:F,get_content_class:C}=A(o,0,a);return(t,o)=>{const a=n("Calendar"),I=r("tooltip");return e(),l("div",{class:c(d(F)())},[f("label",{for:d(k).field,class:"form-label control-label"},v(d(k).label),9,le),f("div",te,[m(p(a,{disabled:d(k).disabled,inline:d(k).inline,selectionMode:d(k).selectionMode,dateFormat:d(k).dateFormat,showTime:d(k).showTime,placeholder:d(k).placeholder,class:c(d(C)()),style:_(d(X)(d(k).style_content)),onYearChange:d(s),onDateSelect:d(s),onClick:d(u),onBlur:d(V),modelValue:d(b),"onUpdate:modelValue":o[0]||(o[0]=e=>g(b)?b.value=e:null)},null,8,["disabled","inline","selectionMode","dateFormat","showTime","placeholder","class","style","onYearChange","onDateSelect","onClick","onBlur","modelValue"]),[[I,d(k).tooltip]])]),d(y)()?(e(),l("div",oe,v(d(h)()),1)):i("v-if",!0)],2)}},__file:"src/components/form-json/columns/VFJDateInput/VFJDateInput.vue"};const ae=["for"],ie={class:"input-group"};var se={__name:"VFJFileInput",props:["params","modelValue"],emits:["update:modelValue"],setup(t,{emit:o}){function a(e){o("update:modelValue",{config:config.value,data:model.value})}return(o,i)=>{const s=n("FileUpload");return e(),l("div",{class:c(o.get_contentainer_class())},[f("label",{for:t.params.field,class:"form-label control-label"},v(t.params.label),9,ae),f("div",ie,[p(s,{name:"demo[]",customUpload:!0,onUploader:a,class:c(o.get_content_class()),style:_(d(X)(o.config.style_content))},null,8,["class","style"])])],2)}},__file:"src/components/form-json/columns/VFJFileInput/VFJFileInput.vue"};const ue=["src","alt"];var re={__name:"VFJImage",props:["params"],setup:t=>(o,n)=>(e(),l("div",{class:c(t.params.class_container),style:_(d(X)(t.params.style_container))},[f("img",{src:t.params.url,alt:t.params.alt,class:c(t.params.class_content),style:_(d(X)(t.params.style_content))},null,14,ue)],6)),__file:"src/components/form-json/columns/VFJImage/VFJImage.vue"};const ce=["for"],de={for:"{{ config.field + option[config.option_id] }}"};var me={__name:"VFJRadioBtnInput",props:["params","modelValue"],emits:["update:modelValue","click","blur"],setup(t,{emit:o}){const i=t,{field_options:s}=q(i),{input_event:u,click_event:r,blur_event:m,model:b,config:k,is_invalid:y,get_content_class:h,get_contentainer_class:F}=A(o,0,i,{field_options:s});return(t,o)=>{const i=n("RadioButton");return e(),l("div",{class:c(d(F)())},[f("label",{for:d(k).field,class:"form-label control-label"},v(d(k).label),9,ce),f("div",{class:c(["form-control input-group row",{"is-invalid":d(y)()}])},[(e(!0),l(a,null,V(d(s),(t=>(e(),l("div",{class:"field-radiobutton col-12",key:t},[p(i,{inputId:"{{config.field + option[config.option_id]}}",name:d(k).field,onChange:d(u),onClick:d(r),onBlur:d(m),value:t[d(k).option_id],modelValue:d(b),"onUpdate:modelValue":o[0]||(o[0]=e=>g(b)?b.value=e:null),class:c(d(h)()),style:_(d(X)(d(k).style_content))},null,8,["name","onChange","onClick","onBlur","value","modelValue","class","style"]),f("label",de,v(t[d(k).option_label]),1)])))),128))],2)],2)}},__file:"src/components/form-json/columns/VFJRadioBtnInput/VFJRadioBtnInput.vue"};const pe=["for"],_e={class:"input-group"},fe={key:0,class:"invalid-feedback",style:{display:"block"}};var ve={__name:"VFJRangeInput",props:["params","modelValue"],emits:["update:modelValue","click","blur"],setup(t,{emit:o}){const a=t,{input_event:s,click_event:u,blur_event:r,model:m,config:V,is_invalid:b,get_content_class:k,validation_text:y,get_contentainer_class:h}=A(o,0,a);return(o,a)=>{const F=n("Slider");return e(),l("div",{class:c(d(h)())},[f("label",{for:t.params.field,class:"form-label control-label"},v(t.params.label),9,pe),f("div",_e,[p(F,{modelValue:d(m),"onUpdate:modelValue":a[0]||(a[0]=e=>g(m)?m.value=e:null),range:d(V).range,onSlideend:d(s),step:d(V).step,min:d(V).min,max:d(V).max,class:c(d(k)()),style:_(d(X)(d(V).style_content)),onClick:d(u),onBlur:d(r)},null,8,["modelValue","range","onSlideend","step","min","max","class","style","onClick","onBlur"])]),d(b)()?(e(),l("div",fe,v(d(y)()),1)):i("v-if",!0)],2)}},__file:"src/components/form-json/columns/VFJRangeInput/VFJRangeInput.vue"};const Ve=["for"],ge={class:"input-group"},be={key:0,class:"invalid-feedback",style:{display:"block"}};var ke={__name:"VFJSelectInput",props:["params","modelValue"],emits:["update:modelValue","click","blur"],setup(t,{emit:o}){const a=t,{field_options:s}=q(a),{input_event:u,click_event:V,blur_event:b,model:k,config:y,is_invalid:h,get_content_class:F,validation_text:C,get_contentainer_class:I}=A(o,0,a,{field_options:s});return(t,o)=>{const a=n("Dropdown"),J=r("tooltip");return e(),l("div",{class:c(d(I)())},[f("label",{for:d(y).key,class:"form-label control-label"},v(d(y).label),9,Ve),m((e(),l("div",ge,[p(a,{modelValue:d(k),"onUpdate:modelValue":o[0]||(o[0]=e=>g(k)?k.value=e:null),options:d(s),optionLabel:d(y).option_label,optionValue:d(y).option_id,class:c(d(F)()),style:_(d(X)(d(y).style_content)),onChange:d(u),onClick:d(V),onBlur:d(b)},null,8,["modelValue","options","optionLabel","optionValue","class","style","onChange","onClick","onBlur"])])),[[J,d(y).tooltip]]),d(h)()?(e(),l("div",be,v(d(C)()),1)):i("v-if",!0)],2)}},__file:"src/components/form-json/columns/VFJSelectInput/VFJSelectInput.vue"};const ye=["innerHTML"];var he={__name:"VFJText",props:["params"],setup:t=>(o,n)=>(e(),l("div",{innerHTML:t.params.html,class:c(t.params.class_container),style:_(d(X)(t.params.style_container))},null,14,ye)),__file:"src/components/form-json/columns/VFJText/VFJText.vue"};const Fe=["for"],Ce={class:"input-group"},Ie={key:0,class:"invalid-feedback",style:{display:"block"}};var Je={__name:"VFJTextareaInput",props:["params","modelValue"],emits:["update:modelValue","click","blur"],setup(t,{emit:o}){const a=t,{input_event:s,click_event:u,blur_event:V,model:b,config:k,get_content_class:y,is_invalid:h,validation_text:F,get_contentainer_class:C}=A(o,0,a);return(t,o)=>{const a=n("Textarea"),I=r("tooltip");return e(),l("div",{class:c(d(C)())},[f("label",{for:d(k).key,class:"form-label control-label"},v(d(k).label),9,Fe),f("div",Ce,[m(p(a,{placeholder:d(k).placeholder,modelValue:d(b),"onUpdate:modelValue":o[0]||(o[0]=e=>g(b)?b.value=e:null),rows:d(k).rows,cols:d(k).cols,disabled:d(k).disabled,class:c(d(y)()),style:_(d(X)(d(k).style_content)),onClick:d(u),onInput:d(s),onBlur:d(V)},null,8,["placeholder","modelValue","rows","cols","disabled","class","style","onClick","onInput","onBlur"]),[[I,d(k).tooltip]])]),d(h)()?(e(),l("div",Ie,v(d(F)()),1)):i("v-if",!0)],2)}},__file:"src/components/form-json/columns/VFJTextareaInput/VFJTextareaInput.vue"};const Te=["for"],we={class:"input-group"},xe={key:0,class:"invalid-feedback",style:{display:"block"}};var Be={__name:"VFJTextInput",props:["params","modelValue"],emits:["update:modelValue","click","blur"],setup(t,{emit:o}){const a=t,{input_event:s,click_event:u,blur_event:V,model:b,config:k,get_content_class:y,is_invalid:h,validation_text:F,get_contentainer_class:C}=A(o,0,a);return(t,o)=>{const a=n("InputText"),I=r("tooltip");return e(),l("div",{class:c(d(C)())},[f("label",{for:d(k).key,class:"form-label control-label"},v(d(k).label),9,Te),f("div",we,[m(p(a,{class:c(d(y)()),style:_(d(X)(d(k).style_content)),disabled:d(k).disabled,onInput:d(s),onClick:d(u),onBlur:d(V),type:d(k).type,modelValue:d(b),"onUpdate:modelValue":o[0]||(o[0]=e=>g(b)?b.value=e:null)},null,8,["class","style","disabled","onInput","onClick","onBlur","type","modelValue"]),[[I,d(k).tooltip]])]),d(h)()?(e(),l("div",xe,v(d(F)()),1)):i("v-if",!0)],2)}},__file:"src/components/form-json/columns/VFJTextInput/VFJTextInput.vue"};const Se=["for"],Ue={class:"input-group"},Ne={key:0,class:"invalid-feedback",style:{display:"block"}};var Le={__name:"VFJNumber",props:["params","modelValue"],emits:["update:modelValue","click","blur"],setup(t,{emit:o}){const a=t,{input_event:s,click_event:u,blur_event:V,model:b,config:k,is_invalid:y,get_content_class:h,validation_text:F,get_contentainer_class:C}=A(o,0,a);return(t,o)=>{const a=n("InputNumber"),I=r("tooltip");return e(),l("div",{class:c(d(C)())},[f("label",{for:d(k).key,class:"form-label control-label"},v(d(k).label),9,Se),f("div",Ue,[m(p(a,{disabled:d(k).disabled,min:Number(d(k).min),max:Number(d(k).max),step:d(k).step,format:d(k).format,minFractionDigits:d(k).minFractionDigits,maxFractionDigits:d(k).maxFractionDigits,currency:d(k).currency,mode:d(k).mode,suffix:d(k).suffix,prefix:d(k).prefix,showButtons:d(k).showButtons,placeholder:d(k).placeholder,onInput:d(s),onClick:d(u),onBlur:d(V),class:c(d(h)()),style:_(d(X)(d(k).style_content)),type:d(k).type,modelValue:d(b),"onUpdate:modelValue":o[0]||(o[0]=e=>g(b)?b.value=e:null)},null,8,["disabled","min","max","step","format","minFractionDigits","maxFractionDigits","currency","mode","suffix","prefix","showButtons","placeholder","onInput","onClick","onBlur","class","style","type","modelValue"]),[[I,d(k).tooltip]])]),d(y)()?(e(),l("div",Ne,v(d(F)()),1)):i("v-if",!0)],2)}},__file:"src/components/form-json/columns/VFJNumber/VFJNumber.vue"},je={__name:"VFJTabsSection",props:["params","modelValue"],emits:["update:modelValue","click","blur"],setup(o,{emit:i}){const u=o,r=t(u.modelValue),d=t(0);function m(e){i("update:modelValue",e)}function p(e){i("blur",e)}function _(e){i("click",e),null!=e.config?.action&&null!=f[e.config.action]&&f[e.config.action](e)}const f={section_next:function(){d.value+1<u.params.length&&d.value++},section_back:function(){d.value-1>=0&&d.value--},section_goTo:function(e){d.value=e.config.action_params.id}};return(t,i)=>{const u=n("HTMLTag"),f=n("TabPanel"),v=n("TabView");return e(),s(v,{activeIndex:d.value},{default:b((()=>[(e(!0),l(a,null,V(o.params,(t=>(e(),s(f,{key:t,header:t.header},{default:b((()=>[(e(!0),l(a,null,V(t.content,(t=>(e(),l("div",{class:c(t.class)},[(e(),s(u,{row_data:t,key:t,cont_class:t.class,modelValue:r.value,"onUpdate:modelValue":[i[0]||(i[0]=e=>r.value=e),m],onClick:_,onBlur:p},null,8,["row_data","cont_class","modelValue"]))],2)))),256))])),_:2},1032,["header"])))),128))])),_:1},8,["activeIndex"])}},__file:"src/components/form-json/layout/VFJTabsSection.vue"},De={__name:"VFJSingleSection",props:["params","modelValue"],emits:["update:modelValue","click","blur"],setup(o,{emit:i}){const u=t(o.modelValue);function r(e){i("update:modelValue",e)}function c(e){i("click",e)}function d(e){i("blur",e)}return(t,i)=>{const m=n("HTMLTag");return e(!0),l(a,null,V(o.params,(l=>(e(),s(m,{cont_class:l.class,row_data:l,key:l,modelValue:u.value,"onUpdate:modelValue":[i[0]||(i[0]=e=>u.value=e),r],onClick:c,onBlur:d},null,8,["cont_class","row_data","modelValue"])))),128)}},__file:"src/components/form-json/layout/VFJSingleSection.vue"};const Re={class:"component-group"};var Ee={__name:"VFJComponentGroup",props:["params","modelValue"],emits:["update:modelValue","click"],setup(i,{emit:u}){const r=t(i.modelValue);function d(e){u("update:modelValue",e)}function m(e){u("click",e)}return o((async()=>{})),(t,o)=>{const u=n("HTMLTag");return e(),l("div",Re,[f("div",{class:c(["row",i.params.class])},[(e(!0),l(a,null,V(i.params.content,(l=>(e(),s(u,{row_data:l,key:l,cont_class:l.class,modelValue:r.value,"onUpdate:modelValue":[o[0]||(o[0]=e=>r.value=e),d],onClick:m},null,8,["row_data","cont_class","modelValue"])))),128))],2)])}},__file:"src/components/form-json/layout/VFJComponentGroup.vue"};class Oe{runtime_data_field="";content="";btn_create={label:"Agregar",icon:"pi pi-plus",iconPos:"left"};btn_delete={label:"",icon:"pi pi-times",class:"p-button-raised p-button-rounded p-button-danger"};initial_values_id="";constructor(e){let l=Object.keys(e);for(let t=0;t<l.length;t++)void 0!==this[l[t]]&&(this[l[t]]=e[l[t]])}}const Me={class:"row"},Ge={class:"col"},Pe={class:"row component-group"},He={class:"col-auto"};var Ae={__name:"VFJLoopFieldGroupRow",props:["params","reg_data","modelValue"],emits:["update:modelValue","click","remove"],setup(o,{emit:i}){const u=o,r=t(u.modelValue),c=t(u.params.btn_delete);function d(e){i("update:modelValue",e)}function m(e){i("click",e)}function _(){let e=u.params,l=e.runtime_data_field,t=e.content;for(let o=0;o<t.length;o++)for(let n=0;n<t[o].content.length;n++){let a=t[o].content[n].params;null!=a.dfield&&(a.field=a.dfield,a.list=l,a.id=u.reg_data._i,r.value[e.initial_values_id]&&(a.value=r.value[e.initial_values_id][a.dfield]))}return t}function v(e){i("remove",{id:u.reg_data._i,list:u.params.runtime_data_field})}return(t,o)=>{const i=n("HTMLTag"),u=n("VFJButtonInput");return e(),l("div",Me,[f("div",Ge,[f("div",Pe,[(e(!0),l(a,null,V(_(),(l=>(e(),s(i,{row_data:l,key:l,cont_class:l.class,modelValue:r.value,"onUpdate:modelValue":[o[0]||(o[0]=e=>r.value=e),d],onClick:m},null,8,["row_data","cont_class","modelValue"])))),128))])]),f("div",He,[p(u,{params:c.value,onClick:v},null,8,["params"])])])}},__file:"src/components/form-json/layout/VFJLoopFieldGroup/VFJLoopFieldGroupRow.vue"};const qe={class:"col"};var Xe={__name:"VFJLoopFieldGroup",props:["params","modelValue","class"],emits:["update:modelValue","click"],setup(i,{emit:u}){const r=i,d=t(r.modelValue),m=t(new M),_=t(new M),v=t(0),g=t(new Oe(r.params)),b=t(g.value.btn_create),k=t([]);function y(e){_.value.update(e),I({list:g.value.runtime_data_field})}function h(e){u("click",e)}function F(e){k.value.push({_i:v.value}),v.value++,I(e)}function C(e){for(let l=0;l<k.value.length;l++)if(k.value[l]._i==e.id){_.value.delete(e),k.value.splice(l,1);break}I(e)}function I(e){let l=e.list;u("update:modelValue",{config:{field:l},data:_.value.data_form[l]})}return o((async()=>{_.value.field_options=d.value.field_options,_.value.initial_values=d.value.initial_values})),(t,o)=>{const u=n("VFJButtonInput");return e(),l(a,null,[f("div",{class:c(["row",i.class])},[f("div",qe,[p(u,{onClick:F,params:b.value},null,8,["params"])])],2),(e(!0),l(a,null,V(k.value,(l=>(e(),s(Ae,{key:l,reg_data:l,params:g.value,modelValue:m.value,"onUpdate:modelValue":[o[0]||(o[0]=e=>m.value=e),y],onRemove:C,onClick:h},null,8,["reg_data","params","modelValue"])))),128))],64)}},__file:"src/components/form-json/layout/VFJLoopFieldGroup/VFJLoopFieldGroup.vue"};const Ye={I_BUTTON:Y,I_CHECKBOX:W,I_COLOR:ee,I_DATE:ne,I_FILE:se,_IMAGE:re,I_RADIO:me,I_RANGE:ve,I_SELECT:ke,_TEXT:he,I_TEXTAREA:Je,I_TEXT:Be,I_NUMBER:Le,V_TABS:je,V_SINGLE:De,V_GROUP:Ee,V_LOOP:Xe};var Ke={__name:"FormularioJSON",props:["form_definition","modelValue"],emits:["update:modelValue","submit","input","click","blur"],setup(l,{expose:o,emit:n}){const a=l,i=t(a.modelValue),u=t(),r=t(a.form_definition),c=t(new M(i.value)),m=new O(a.form_definition.data_origin),p=t();k("dataOrigins",m),k("validationRes",p),o({refresh_validations:function(e){p.value=e}});const _={submit:async function(){n("submit",c.value.data_form)}};function f(e){c.value.update(e),n("update:modelValue",c.value),n("input",e)}async function v(e){n("click",e.data),null!=e.config&&null!=_[e.config.action]&&await _[e.config.action](e)}async function V(e){n("blur",e.data)}return(l,t)=>(e(),s(y(d(Ye)[r.value.sections.component]),{ref_key:"section_comp_ref",ref:u,params:r.value.sections.content,onClick:v,onBlur:V,modelValue:i.value,"onUpdate:modelValue":[t[0]||(t[0]=e=>i.value=e),f]},null,40,["params","modelValue"]))},__file:"src/components/form-json/FormularioJSON.vue"},ze={__name:"HTMLTag",props:["row_data","modelValue","cont_class"],emits:["update:modelValue","click","blur"],setup(n,{emit:i}){const u=t(n.modelValue);function r(e){i("update:modelValue",e)}function m(e){i("click",e)}function p(e){i("blur",e)}return o((async()=>{})),(t,o)=>(e(),l("div",{class:c(n.row_data.params?.class_container),style:_(d(X)(n.row_data.params?.style_container))},[(e(!0),l(a,null,V(n.row_data.content,(l=>(e(),s(y(d(Ye)[l.component]),{key:l,params:l.params,"onUpdate:modelValue":[r,o[0]||(o[0]=e=>u.value=e)],modelValue:u.value,onClick:m,onBlur:p},null,40,["params","modelValue"])))),128))],6))}};ze.__file="src/components/form-json/layout/HTMLTag.vue";!function(e,l){void 0===l&&(l={});var t=l.insertAt;if(e&&"undefined"!=typeof document){var o=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css","top"===t&&o.firstChild?o.insertBefore(n,o.firstChild):o.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}}('.form-group.required .control-label:after {\n  content:" *";\n  color:red;\n}');const Qe={install(e,l){e.use(J),e.directive("tooltip",L),e.component("InputText",F),e.component("RadioButton",T),e.component("Checkbox",w),e.component("Dropdown",C),e.component("Textarea",I),e.component("Calendar",x),e.component("Button",B),e.component("ColorPicker",S),e.component("Slider",U),e.component("FileUpload",N),e.component("InputNumber",j),e.component("TabView",D),e.component("TabPanel",R),e.component("VFJButtonInput",Y),e.component("FormularioJSON",Ke),e.component("HTMLTag",ze)}},We={install(e,l){e.use(Qe),e.component("ClienteFormularioDinamico",H)}};export{We as VueClienteFormDinamico};
