import{ref as e,resolveComponent as a,openBlock as t,createElementBlock as o,Fragment as l,createTextVNode as n,createVNode as s,toDisplayString as i,resolveDirective as c,withDirectives as u,createBlock as r,normalizeClass as d,onMounted as p,createElementVNode as m,renderList as _,withCtx as f,resolveDynamicComponent as v,unref as V}from"vue";import b from"primevue/inputtext";import h from"primevue/dropdown";import g from"primevue/textarea";import F from"primevue/config";import J from"primevue/radiobutton";import I from"primevue/checkbox";import y from"primevue/calendar";import x from"primevue/button";import C from"primevue/image";import k from"primevue/colorpicker";import w from"primevue/slider";import j from"primevue/fileupload";import T from"primevue/tooltip";import B from"primevue/tabview";import S from"primevue/tabpanel";import"primevue/resources/themes/nova/theme.css";import"primevue/resources/primevue.min.css";import"primeicons/primeicons.css";var D={__name:"ClienteFormularioDinamico",setup(c){const u=e(),r=e({general_data:{field_options:{opciones_select_categoria:[{id:1,text:"Categoria 1"},{id:2,text:"Categoria 2"},{id:3,text:"Categoria 3"},{id:4,text:"Categoria 4"}],opciones_radio_ej:[{id:1,text:"Radio 1"},{id:2,text:"Radio 2"},{id:3,text:"Radio 3"},{id:4,text:"Radio 4"}],opciones_checkbox_ej:[{id:1,text:"Checkbox 1"},{id:2,text:"Checkbox 2"},{id:3,text:"Checkbox 3"},{id:4,text:"Checkbox 4"}]},autocomplete_options:{ciudades:["Tandil","Mar del Plata","Ayacucho","Azul","Bolivar","Capital Federal"]},initial_values:{user_list_initial_values:{date:new Date,color:"#00FF00"}}},sections:{component:"VFJTabsSection",section_def:[{header:"Parte 1",html_def:[{css_class:"justify-content-md-center",content:[{component:"VFJComponentGroup",css_class:"",params:{id:"example_group_1",html_def:[{css_class:"justify-content-md-center",content:[{css_class:"",component:"VFJImage",params:{src:"https://www.primefaces.org/primevue/demo/images/primevue-logo-dark.svg",alt:"Vue logo"}}]},{css_class:"justify-content-md-center",content:[{css_class:"",component:"VFJText",params:{html:"<h1>Titulo de formulario</h1>"}}]},{css_class:"justify-content-md-center",content:[{css_class:"",component:"VFJTextInput",params:{field:"name",tooltip:"hello moto",label:"Campo de texto",type:"text"}},{css_class:"",component:"VFJTextareaInput",params:{field:"descripcion",tooltip:"hola",label:"Campo Textarea"}},{css_class:"",component:"VFJSelectInput",params:{field:"categoria",tooltip:"hola",label:"Campo Select",field_options:"opciones_select_categoria",option_id:"id",option_label:"text"}}]},{css_class:"justify-content-md-center",content:[{css_class:"",component:"VFJRadioBtnInput",params:{field:"radio_ej",label:"Campo Radio Button",field_options:"opciones_radio_ej",option_id:"id",option_label:"text"}},{css_class:"",component:"VFJCheckboxInput",params:{field:"checkbox_ej",label:"Campo Checkbox",field_options:"opciones_checkbox_ej",option_id:"id",option_label:"text"}}]}]}}]},{css_class:"justify-content-md-center",content:[{css_class:"",component:"VFJDateInput",params:{field:"date",label:"Campo de fecha"}},{css_class:"",component:"VFJButtonInput",params:{action:"test_action",tooltip:"hola",label:"Boton de prueba"}},{css_class:"",component:"VFJColorInput",params:{field:"color",tooltip:"hola",label:"Campo de selección de color"}}]},{css_class:"justify-content-md-center",content:[{css_class:"",component:"VFJRangeInput",params:{field:"rango",range:!1,min:0,step:1,max:200,label:"Campo de selección tipo Slider"}},{css_class:"",component:"VFJFileInput",params:{field:"file",label:"Campo de subida de archivos"}}]},{css_class:"justify-content-md-center",content:[{css_class:"",component:"VFJButtonInput",params:{action:"section_next",label:"Siguiente"}}]}]},{header:"Parte 2",html_def:[{css_class:"justify-content-md-center",content:[{css_class:"",component:"VFJImage",params:{src:"https://www.primefaces.org/primevue/demo/images/primevue-logo-dark.svg",alt:"Vue logo"}}]},{css_class:"justify-content-md-center",content:[{css_class:"",component:"VFJText",params:{html:"<h1>Titulo de formulario Parte 2</h1>"}}]},{css_class:"justify-content-md-center",content:[{css_class:"",component:"VFJTextInput",params:{field:"name",label:"Campo de texto",type:"text"}},{css_class:"",component:"VFJTextareaInput",params:{field:"descripcion",label:"Campo Textarea"}},{css_class:"",component:"VFJSelectInput",params:{field:"categoria",label:"Campo Select",field_options:"opciones_select_categoria",option_id:"id",option_label:"text"}}]},{css_class:"justify-content-md-center",content:[{css_class:"",component:"VFJRadioBtnInput",params:{field:"radio_ej",label:"Campo Radio Button",field_options:"opciones_radio_ej",option_id:"id",option_label:"text"}},{css_class:"",component:"VFJCheckboxInput",params:{field:"checkbox_ej",label:"Campo Checkbox",field_options:"opciones_checkbox_ej",option_id:"id",option_label:"text"}}]},{css_class:"justify-content-md-center",content:[{css_class:"",component:"VFJDateInput",params:{field:"date",label:"Campo de fecha"}},{css_class:"",component:"VFJButtonInput",params:{action:"test_action",label:"Boton de prueba"}},{css_class:"",component:"VFJColorInput",params:{field:"color",label:"Campo de selección de color"}}]},{css_class:"justify-content-md-center",content:[{css_class:"",component:"VFJRangeInput",params:{field:"rango",range:!1,min:0,step:1,max:200,label:"Campo de selección tipo Slider"}},{css_class:"",component:"VFJFileInput",params:{field:"file",label:"Campo de subida de archivos"}}]},{css_class:"justify-content-md-center",content:[{css_class:"",component:"VFJButtonInput",params:{action:"section_back",label:"Anterior"}},{css_class:"",component:"VFJButtonInput",params:{action:"section_next",label:"Siguiente"}}]}]},{header:"Paso Final",html_def:[{css_class:"justify-content-md-center",content:[{css_class:"",component:"VFJLoopFieldGroup",params:{runtime_data_field:"user_list",initial_values_id:"user_list_initial_values",html_def:[{css_class:"justify-content-md-center",content:[{css_class:"",component:"VFJDateInput",params:{dfield:"date",label:"Campo de fecha"}},{css_class:"",component:"VFJButtonInput",params:{dfield:"btn",action:"test_action",label:"Boton de prueba"}},{css_class:"",component:"VFJColorInput",params:{dfield:"color",label:"Campo de selección de color"}}]}]}}]},{css_class:"justify-content-md-center",content:[{css_class:"",component:"VFJButtonInput",params:{action:"section_back",label:"Anterior"}},{css_class:"",component:"VFJButtonInput",params:{action:"section_goTo",action_params:{id:0},label:"Inicio"}},{css_class:"",component:"VFJButtonInput",params:{action:"submit",label:"Confirmar"}}]}]}]}});return(e,c)=>{const d=a("FormularioJSON");return t(),o(l,null,[n(" Cliente Formulario Dinámico "),s(d,{form_definition:r.value,modelValue:u.value,"onUpdate:modelValue":c[0]||(c[0]=e=>u.value=e)},null,8,["form_definition","modelValue"]),n(" "+i(u.value),1)],64)}},__file:"src/ClienteFormularioDinamico.vue"};class R{subscriptions={};data={};getters={};subscribe(e,a,t){void 0===this.subscriptions[e]&&(this.subscriptions[e]={}),this.subscriptions[e][a]=t}async streaming(e,a){if(void 0!==this.subscriptions[e]){let t=Object.keys(this.subscriptions[e]),o=[];for(let l=0;l<t.length;l++)o.push(this.subscriptions[e][t[l]](a));await Promise.all(o)}}setGetter(e,a){this.getters[e]=a}async getData(e,a,t={}){if("function"==typeof this.getters[e])return await a(await this.getters[e](t))}}class U{label="";class="";icon="";iconPos="";disabled=!1;tooltip="";constructor(e){let a=Object.keys(e);for(let t=0;t<a.length;t++)void 0!==this[a[t]]&&(this[a[t]]=e[a[t]])}}var L={__name:"VFJButtonInput",props:["params","data_channel","modelValue"],emits:["update:modelValue","click_event"],setup(o,{emit:l}){const n=o,s=e(new U(n.params));return(e,o)=>{const i=a("Button"),p=c("tooltip");return u((t(),r(i,{label:s.value.label,class:d(s.value.class),icon:s.value.icon,iconPos:s.value.iconPos,onClick:o[0]||(o[0]=e=>{l("click_event",{config:n.params,data:!0})})},null,8,["label","class","icon","iconPos"])),[[p,s.value.tooltip]])}},__file:"src/components/form-json/columns/VFJButtonInput/VFJButtonInput.vue"};class P{tooltip="";field_options="";field="";dfield="";label="";option_id="";option_label="";constructor(e){let a=Object.keys(e);for(let t=0;t<a.length;t++)void 0!==this[a[t]]&&(this[a[t]]=e[a[t]])}}const G={class:"mb-3"},O=["for"],M={class:"input-group row"},H={for:"{{ params.field + option[params.option_id] }}"};var A={__name:"VFJCheckboxInput",props:["params","data_channel","modelValue"],emits:["update:modelValue"],setup(n,{emit:c}){const u=n,r=e(new P(u.params)),d=e(),f=e([]);function v(){c("update:modelValue",{config:r.value,data:d.value})}return p((async()=>{u.data_channel.getData("field_options",(async e=>{f.value=e[r.value.field_options],u.data_channel.getData("field_value",(async e=>{null!=e&&(d.value=e)}),r.value.field)}))})),(e,c)=>{const u=a("Checkbox");return t(),o("div",G,[m("label",{for:n.params.field,class:"form-label"},i(n.params.label),9,O),m("div",M,[(t(!0),o(l,null,_(f.value,(e=>(t(),o("div",{class:"field-radiobutton col-12",key:e},[s(u,{inputId:"{{params.field + option[params.option_id]}}",name:n.params.field,onChange:v,value:e[n.params.option_id],modelValue:d.value,"onUpdate:modelValue":c[0]||(c[0]=e=>d.value=e)},null,8,["name","value","modelValue"]),m("label",H,i(e[n.params.option_label]),1)])))),128))])])}},__file:"src/components/form-json/columns/VFJCheckboxInput/VFJCheckboxInput.vue"};class q{label="";class="";disabled=!1;field="";dfield="";required=!1;tooltip="";inline=!1;constructor(e){let a=Object.keys(e);for(let t=0;t<a.length;t++)void 0!==this[a[t]]&&(this[a[t]]=e[a[t]])}}const N={class:"mb-3"},z=["for"],Y={class:"input-group"};var E={__name:"VFJColorInput",props:["params","modelValue"],emits:["update:modelValue"],setup(l,{emit:n}){const r=e(new q(l.params)),d=e();function _(){n("update:modelValue",{config:r.value,data:d.value})}return p((async()=>{})),(e,l)=>{const n=a("ColorPicker"),p=c("tooltip");return t(),o("div",N,[m("label",{for:r.value.field,class:"form-label"},i(r.value.label),9,z),m("div",Y,[u(s(n,{modelValue:d.value,"onUpdate:modelValue":l[0]||(l[0]=e=>d.value=e),inline:r.value.inline,onChange:_},null,8,["modelValue","inline"]),[[p,r.value.tooltip]])])])}},__file:"src/components/form-json/columns/VFJColorInput/VFJColorInput.vue"};class K{label="";class="";disabled=!1;inline=!1;field="";dfield="";selectionMode="single";dateFormat="dd.mm.yy";showTime=!1;required=!1;tooltip="";value=null;constructor(e){let a=Object.keys(e);for(let t=0;t<a.length;t++)void 0!==this[a[t]]&&(this[a[t]]=e[a[t]])}}const Q={class:"mb-3"},W=["for"],X={class:"input-group"};var Z={__name:"VFJDateInput",props:["params","modelValue"],emits:["update:modelValue"],setup(l,{emit:n}){const r=e(new K(l.params)),d=e();function _(){n("update:modelValue",{config:r.value,data:d.value})}return p((async()=>{})),(e,l)=>{const n=a("Calendar"),p=c("tooltip");return t(),o("div",Q,[m("label",{for:r.value.field,class:"form-label"},i(r.value.label),9,W),m("div",X,[u(s(n,{disabled:r.value.disabled,inline:r.value.inline,selectionMode:r.value.selectionMode,dateFormat:r.value.dateFormat,showTime:r.value.showTime,onYearChange:_,onDateSelect:_,modelValue:d.value,"onUpdate:modelValue":l[0]||(l[0]=e=>d.value=e),class:"w-100"},null,8,["disabled","inline","selectionMode","dateFormat","showTime","modelValue"]),[[p,r.value.tooltip]])])])}},__file:"src/components/form-json/columns/VFJDateInput/VFJDateInput.vue"};const $={class:"mb-3"},ee=["for"],ae={class:"input-group"};var te={__name:"VFJFileInput",props:["params","modelValue"],emits:["update:modelValue"],setup(e,{emit:l}){function n(e){l("update:modelValue",{config:config.value,data:model.value})}return(l,c)=>{const u=a("FileUpload");return t(),o("div",$,[m("label",{for:e.params.field,class:"form-label"},i(e.params.label),9,ee),m("div",ae,[s(u,{name:"demo[]",customUpload:!0,onUploader:n})])])}},__file:"src/components/form-json/columns/VFJFileInput/VFJFileInput.vue"},oe={__name:"VFJImage",props:["params"],setup:e=>(o,l)=>{const n=a("Image");return t(),r(n,{src:e.params.src,alt:e.params.alt},null,8,["src","alt"])},__file:"src/components/form-json/columns/VFJImage/VFJImage.vue"};class le{tooltip="";field_options="";field="";dfield="";label="";option_id="";option_label="";constructor(e){let a=Object.keys(e);for(let t=0;t<a.length;t++)void 0!==this[a[t]]&&(this[a[t]]=e[a[t]])}}const ne={class:"mb-3"},se=["for"],ie={class:"input-group row"},ce={for:"{{ params.field + option[params.option_id] }}"};var ue={__name:"VFJRadioBtnInput",props:["params","data_channel","modelValue"],emits:["update:modelValue"],setup(n,{emit:c}){const u=n,r=e(new le(u.params)),d=e(),f=e([]);function v(){c("update:modelValue",{config:r.value,data:d.value})}return p((async()=>{u.data_channel.getData("field_options",(async e=>{f.value=e[r.value.field_options],u.data_channel.getData("field_value",(async e=>{null!=e&&(d.value=e)}),r.value.field)}))})),(e,c)=>{const u=a("RadioButton");return t(),o("div",ne,[m("label",{for:n.params.field,class:"form-label"},i(n.params.label),9,se),m("div",ie,[(t(!0),o(l,null,_(f.value,(e=>(t(),o("div",{class:"field-radiobutton col-12",key:e},[s(u,{inputId:"{{params.field + option[params.option_id]}}",name:n.params.field,onChange:v,value:e[n.params.option_id],modelValue:d.value,"onUpdate:modelValue":c[0]||(c[0]=e=>d.value=e)},null,8,["name","value","modelValue"]),m("label",ce,i(e[n.params.option_label]),1)])))),128))])])}},__file:"src/components/form-json/columns/VFJRadioBtnInput/VFJRadioBtnInput.vue"};const re={class:"mb-3"},de=["for"],pe={class:"input-group"};var me={__name:"VFJRangeInput",props:["params","modelValue"],emits:["update:modelValue"],setup(l,{emit:n}){const c=e(l.params.min);function u(){n("update:modelValue",{config:config.value,data:c.value})}return p((async()=>{})),(e,n)=>{const r=a("Slider");return t(),o("div",re,[m("label",{for:l.params.field,class:"form-label"},i(l.params.label),9,de),m("div",pe,[s(r,{modelValue:c.value,"onUpdate:modelValue":n[0]||(n[0]=e=>c.value=e),range:l.params.range,onSlideend:u,step:l.params.step,min:l.params.min,max:l.params.max,class:"w-100"},null,8,["modelValue","range","step","min","max"])])])}},__file:"src/components/form-json/columns/VFJRangeInput/VFJRangeInput.vue"};class _e{tooltip="";field_options="";field="";dfield="";label="";option_id="";option_label="";constructor(e){let a=Object.keys(e);for(let t=0;t<a.length;t++)void 0!==this[a[t]]&&(this[a[t]]=e[a[t]])}}const fe={class:"mb-3"},ve=["for"],Ve={class:"input-group"};var be={__name:"VFJSelectInput",props:["params","data_channel","modelValue"],emits:["update:modelValue"],setup(l,{emit:n}){const r=l,d=e(),_=e(new _e(r.params)),f=e([]);function v(){n("update:modelValue",{config:_.value,data:d.value})}return p((async()=>{r.data_channel.getData("field_options",(async e=>{f.value=e[_.value.field_options],r.data_channel.getData("field_value",(async e=>{null!=e&&(d.value=e)}),_.value.field)}))})),(e,l)=>{const n=a("Dropdown"),r=c("tooltip");return t(),o("div",fe,[m("label",{for:_.value.key,class:"form-label"},i(_.value.label),9,ve),u((t(),o("div",Ve,[s(n,{modelValue:d.value,"onUpdate:modelValue":l[0]||(l[0]=e=>d.value=e),class:"w-100",options:f.value,optionLabel:_.value.option_label,optionValue:_.value.option_id,onChange:v},null,8,["modelValue","options","optionLabel","optionValue"])])),[[r,_.value.tooltip]])])}},__file:"src/components/form-json/columns/VFJSelectInput/VFJSelectInput.vue"};const he=["innerHTML","styles"];var ge={__name:"VFJText",props:["params","data_channel"],setup:e=>(a,l)=>(t(),o("div",{innerHTML:e.params.html,styles:e.params.styles},null,8,he)),__file:"src/components/form-json/columns/VFJText/VFJText.vue"};class Fe{label="";class="";disabled=!1;field="";dfield="";required=!1;tooltip="";rows=5;cols=30;constructor(e){let a=Object.keys(e);for(let t=0;t<a.length;t++)void 0!==this[a[t]]&&(this[a[t]]=e[a[t]])}}const Je={class:"mb-3"},Ie=["for"],ye={class:"input-group"};var xe={__name:"VFJTextareaInput",props:["params","modelValue"],emits:["update:modelValue"],setup(l,{emit:n}){const r=e(new Fe(l.params)),d=e();function _(){n("update:modelValue",{config:r.value,data:d.value})}return p((async()=>{})),(e,l)=>{const n=a("Textarea"),p=c("tooltip");return t(),o("div",Je,[m("label",{for:r.value.key,class:"form-label"},i(r.value.label),9,Ie),m("div",ye,[u(s(n,{class:"w-100",modelValue:d.value,"onUpdate:modelValue":l[0]||(l[0]=e=>d.value=e),rows:r.value.rows,cols:r.value.cols,onInput:_,disabled:r.value.disabled},null,8,["modelValue","rows","cols","disabled"]),[[p,r.value.tooltip]])])])}},__file:"src/components/form-json/columns/VFJTextareaInput/VFJTextareaInput.vue"};class Ce{label="";class="";disabled=!1;field="";dfield="";required=!1;type="text";autocomplete_options="";tooltip="";constructor(e){let a=Object.keys(e);for(let t=0;t<a.length;t++)void 0!==this[a[t]]&&(this[a[t]]=e[a[t]])}}const ke={class:"mb-3"},we=["for"],je={class:"input-group"};var Te={__name:"VFJTextInput",props:["params","modelValue"],emits:["update:modelValue"],setup(l,{emit:n}){const r=e(new Ce(l.params)),d=e();function _(){n("update:modelValue",{config:r.value,data:d.value})}return p((async()=>{})),(e,l)=>{const n=a("InputText"),p=c("tooltip");return t(),o("div",ke,[m("label",{for:r.value.key,class:"form-label"},i(r.value.label),9,we),m("div",je,[u(s(n,{disabled:r.value.disabled,onInput:_,type:r.value.type,modelValue:d.value,"onUpdate:modelValue":l[0]||(l[0]=e=>d.value=e),class:"w-100"},null,8,["disabled","type","modelValue"]),[[p,r.value.tooltip]])])])}},__file:"src/components/form-json/columns/VFJTextInput/VFJTextInput.vue"},Be={__name:"VFJTabsSection",props:["params","data_channel","modelValue"],emits:["update:modelValue","click_event"],setup(n,{emit:s}){const i=n,c=e(),u=e(0);function d(e){s("update:modelValue",e)}function m(e){s("click_event",e),null!=v[e.config.action]&&v[e.config.action](e)}const v={section_next:function(){u.value+1<i.params.length&&u.value++},section_back:function(){u.value-1>=0&&u.value--},section_goTo:function(e){u.value=e.config.action_params.id}};return p((async()=>{})),(e,s)=>{const i=a("HTMLTag"),p=a("TabPanel"),v=a("TabView");return t(),r(v,{activeIndex:u.value},{default:f((()=>[(t(!0),o(l,null,_(n.params,(e=>(t(),r(p,{key:e,header:e.header},{default:f((()=>[(t(!0),o(l,null,_(e.html_def,(e=>(t(),r(i,{row_data:e,data_channel:n.data_channel,key:e,modelValue:c.value,"onUpdate:modelValue":[s[0]||(s[0]=e=>c.value=e),d],"ç":"",onClick_event:m},null,8,["row_data","data_channel","modelValue"])))),128))])),_:2},1032,["header"])))),128))])),_:1},8,["activeIndex"])}},__file:"src/components/form-json/layout/VFJTabsSection.vue"};const Se={class:"row component-group"},De={class:"col"};var Re={__name:"VFJComponentGroup",props:["params","data_channel"],emits:["update:modelValue","click_event"],setup(n,{emit:s}){const i=e();function c(e){s("update:modelValue",e)}function u(e){s("click_event",e)}return(e,s)=>{const d=a("HTMLTag");return t(),o("div",Se,[m("div",De,[(t(!0),o(l,null,_(n.params.html_def,(e=>(t(),r(d,{row_data:e,data_channel:n.data_channel,key:e,modelValue:i.value,"onUpdate:modelValue":[s[0]||(s[0]=e=>i.value=e),c],onClick_event:u},null,8,["row_data","data_channel","modelValue"])))),128))])])}},__file:"src/components/form-json/layout/VFJComponentGroup.vue"};class Ue{runtime_data_field="";html_def="";btn_create={label:"Agregar",icon:"pi pi-plus",iconPos:"left"};btn_delete={label:"",icon:"pi pi-times",class:"p-button-raised p-button-rounded p-button-danger"};initial_values_id="";constructor(e){let a=Object.keys(e);for(let t=0;t<a.length;t++)void 0!==this[a[t]]&&(this[a[t]]=e[a[t]])}}const Le={class:"row component-group"},Pe={class:"col"},Ge={class:"col-auto"};var Oe={__name:"VFJLoopFieldGroupRow",props:["params","reg_data","data_channel","modelValue"],emits:["update:modelValue","click_event"],setup(n,{emit:i}){const c=n,u=e();function d(e){i("update:modelValue",e)}function p(e){i("click_event",e)}function f(){let e=c.params,a=e.runtime_data_field,t=e.html_def;return c.data_channel.getData("initial_values",(async o=>{for(let l=0;l<t.length;l++)for(let n=0;n<t[l].content.length;n++){let s=t[l].content[n].params;null!=s.dfield&&(s.field=a+"|"+c.reg_data._i+"|"+s.dfield,s.value=o[e.initial_values_id][s.dfield],c.data_channel.streaming("_user_input_data",{config:s,data:s.value}))}})),t}return(e,i)=>{const v=a("HTMLTag"),V=a("VFJButtonInput");return t(),o("div",Le,[m("div",Pe,[(t(!0),o(l,null,_(f(),(e=>(t(),r(v,{row_data:e,data_channel:n.data_channel,key:e,modelValue:u.value,"onUpdate:modelValue":[i[0]||(i[0]=e=>u.value=e),d],onClick_event:p},null,8,["row_data","data_channel","modelValue"])))),128))]),m("div",Ge,[s(V,{data_channel:n.data_channel,params:(b=n.reg_data,{action:"list_remove_data",runtime_data_field:c.params.runtime_data_field,icon:c.params.btn_delete.icon,class:c.params.btn_delete.class,reg_data:{...b},sub_fields:c.params.html_def,label:c.params.btn_delete.label}),onClick_event:p},null,8,["data_channel","params"])])]);var b}},__file:"src/components/form-json/layout/VFJLoopFieldGroup/VFJLoopFieldGroupRow.vue"};const Me={class:"row"},He={class:"col"};var Ae={__name:"VFJLoopFieldGroup",props:["params","data_channel","modelValue"],emits:["update:modelValue","click_event"],setup(n,{emit:i}){const c=n,u=e();function d(e){console.log(88,e),i("update:modelValue",e)}function f(e){i("click_event",e)}const v=e(new Ue(c.params)),V=e([]);return p((async()=>{c.data_channel.subscribe("runtime_list_data_updated","rd_"+v.value.runtime_data_field,(async e=>{e.field==v.value.runtime_data_field&&(V.value=e.rows)}))})),(e,i)=>{const c=a("VFJButtonInput");return t(),o(l,null,[m("div",Me,[m("div",He,[s(c,{data_channel:n.data_channel,onClick_event:f,params:{action:"list_add_new_data",runtime_data_field:v.value.runtime_data_field,class:v.value.btn_create.class,label:v.value.btn_create.label,icon:v.value.btn_create.icon,iconPos:v.value.btn_create.iconPos}},null,8,["data_channel","params"])])]),(t(!0),o(l,null,_(V.value,(e=>(t(),r(Oe,{key:e,data_channel:n.data_channel,reg_data:e,params:v.value,modelValue:u.value,"onUpdate:modelValue":[i[0]||(i[0]=e=>u.value=e),d],onClick_event:f},null,8,["data_channel","reg_data","params","modelValue"])))),128))],64)}},__file:"src/components/form-json/layout/VFJLoopFieldGroup/VFJLoopFieldGroup.vue"};const qe={VFJButtonInput:L,VFJCheckboxInput:A,VFJColorInput:E,VFJDateInput:Z,VFJFileInput:te,VFJImage:oe,VFJRadioBtnInput:ue,VFJRangeInput:me,VFJSelectInput:be,VFJText:ge,VFJTextareaInput:xe,VFJTextInput:Te,VFJTabsSection:Be,VFJComponentGroup:Re,VFJLoopFieldGroup:Ae},Ne=0;class ze{status=Ne;title="untitled";captcha_public_key="";field_options={};submit_msg=""}class Ye{component="VFJTabsSection";section_def=[]}class Ee{general_data=new ze;sections=new Ye;runtime_data={};field_rels=[]}class Ke{data_form={};update(e){this.data_form[e.config.field]=e.data}getValue(e){return this.data_form[e]}deleteField(e){delete this.data_form[e]}}class Qe{}var We={__name:"FormularioJSON",props:["form_definition","modelValue"],emits:["update:modelValue","submit","input"],setup(a,{emit:o}){const l=a,n=e(),s=e(new Ee),i=e(new Ke);e(new Qe);const c=e(new R),u={submit:async function(){o("submit",i.value.data_form)},list_add_new_data:async function(e){let a=e.config.runtime_data_field;s.value.runtime_data||(s.value.runtime_data={});s.value.runtime_data[a]||(s.value.runtime_data[a]={u_id:0,data:[]});let t=s.value.runtime_data[a];t.u_id++,t.data.push({_i:t.u_id}),c.value.streaming("runtime_list_data_updated",{field:a,rows:t.data})},list_remove_data:async function(e){let a=e.config.runtime_data_field,t=s.value.runtime_data[a];for(let o=0;o<t.data.length;o++)if(t.data[o]._i==e.config.reg_data._i){let l=e.config.sub_fields;for(let e=0;e<l.length;e++)for(let o=0;o<l[e].content.length;o++){let n=l[e].content[o].params;i.value.deleteField(a+"|"+t.data[e]._i+"|"+n.dfield)}return t.data.splice(o,1),c.value.streaming("runtime_list_data_updated",{field:a,rows:t.data}),!0}}};function d(e){i.value.update(e),o("update:modelValue",i.value)}async function m(e){o("click_event",e.data),null!=u[e.config.action]&&await u[e.config.action](e)}return p((async()=>{s.value=l.form_definition,c.value.setGetter("field_options",(async()=>s.value.general_data.field_options)),c.value.setGetter("initial_values",(async()=>s.value.general_data.initial_values)),c.value.setGetter("field_value",(async e=>i.value.getValue(e)))})),(e,a)=>(t(),r(v(V(qe)[s.value.sections.component]),{data_channel:c.value,params:s.value.sections.section_def,onClick_event:m,modelValue:n.value,"onUpdate:modelValue":[a[0]||(a[0]=e=>n.value=e),d]},null,40,["data_channel","params","modelValue"]))},__file:"src/components/form-json/FormularioJSON.vue"},Xe={__name:"CompInsert",props:["col_data","data_channel","modelValue"],emits:["update:modelValue","click_event"],setup(a,{emit:o}){const l=e();function n(e){o("update:modelValue",e)}function s(e){o("click_event",e)}return(e,o)=>(t(),r(v(V(qe)[a.col_data.component]),{class:d(a.col_data.css_class),data_channel:a.data_channel,params:a.col_data.params,"onUpdate:modelValue":[n,o[0]||(o[0]=e=>l.value=e)],modelValue:l.value,onClick_event:s},null,40,["class","data_channel","params","modelValue"]))},__file:"src/components/form-json/layout/CompInsert.vue"};const Ze={class:"col"};var $e={__name:"HTMLTag",props:["row_data","data_channel","modelValue"],emits:["update:modelValue","click_event"],setup(n,{emit:s}){const i=e();function c(e){s("update:modelValue",e)}function u(e){s("click_event",e)}return(e,s)=>{const p=a("CompInsert");return t(),o("div",{class:d(n.row_data.css_class)},[m("div",Ze,[(t(!0),o(l,null,_(n.row_data.content,(e=>(t(),r(p,{data_channel:n.data_channel,col_data:e,key:e,"onUpdate:modelValue":[c,s[0]||(s[0]=e=>i.value=e)],modelValue:i.value,onClick_event:u},null,8,["data_channel","col_data","modelValue"])))),128))])],2)}},__file:"src/components/form-json/layout/HTMLTag.vue"};const ea={install(e,a){e.use(F),e.directive("tooltip",T),e.component("InputText",b),e.component("RadioButton",J),e.component("Checkbox",I),e.component("Dropdown",h),e.component("Textarea",g),e.component("Calendar",y),e.component("Button",x),e.component("Image",C),e.component("ColorPicker",k),e.component("Slider",w),e.component("FileUpload",j),e.component("TabView",B),e.component("TabPanel",S),e.component("VFJButtonInput",L),e.component("FormularioJSON",We),e.component("HTMLTag",$e),e.component("CompInsert",Xe)}},aa={install(e,a){e.use(ea),e.component("ClienteFormularioDinamico",D)}};export{aa as VueClienteFormDinamico};
